---
tags:
  - Lite-Database
parent: "[[Documentaion]]"
version: 1.0.0
created at: 2024-04-19
---
---

Данная БД является NoSQL и не поддерживает SQL запросы. В ней есть системные модули, которые вы конечно можете изменить, но тут на свой страх и риск.

От системных модулей зависит работоспособность миграций, сидеров, факторов, запросов к БД и т.п. Благо у меня модульная структура, так что сломав один или несколько системных модулей, вы всё ещё сможете использовать бд, хоть и с большими ограничениями. (Если конечно в край не сломаете все модули...).

Если хотите использовать для генерации данных под Json Server, то используйте команду merger. Данная команда объеденит все таблицы в одну.

---

### `ris:Command` Генерация

```python  
database.lite_db.generate_migration(table_name) -> генерация миграции
# database.lite_db.generate_migration("Users")

database.lite_db.generate_model(table_name) -> генерация модели
# database.lite_db.generate_model("Users")

database.lite_db.generate_seeder(table_name) -> генерация сидера
# database.lite_db.generate_seeder("Users")

database.lite_db.generate_factory(table_name) -> генерация факторки
# database.lite_db.generate_factory("Users")

database.lite_db.migration() -> генерация таблиц и типов на основе класса миграции    database.lite_db.seeder() -> генерация данных    database.lite_db.factory() -> database.lite_db.fresh() -> регенерация всех данных (таблицы, типы, сидеров и фактороки)
```  

---

### `ris:SearchEye` Поиск данных  
```python  
database.lite_db.models.module_name.query(**params)    
# module_name -> название модели из ваших моделей. Писать в CamelCase не надо.
# Если модель имеет двойное имя, то в таком примере: order_item
# данный метод возвращает {"data": [elem...], "meta": {"pages": 1, "items": 0, "total_items": 0}}
# поиск по id возвращает тот же фортам, но без списка в data и некотопых ключей в meta
```  

**params**:  
1. id -> получение элемента по его ID;  
2. search -> поиск по названию - not working;  
3. order_by -> группировка - not working;  
4. use_random -> активация поиска рандомных элементов из бд;  
5. random -> кол-во рандомных значений;  
6. paginate -> ограничение на кол-во получаемых данных.  
  
---  
  
### Модули  
  
#### `ris:Coreos` Системные:  
1. **DB** - Работает с созданием, обновлением, удалением и получением данных из БД;  
2. **Validate** - Валидирует входные данные при создании новых элементов в таблице;
3. **Normalize** - Подставляет данные с типом auto или default, если входные данные не содержали что-то;
4. **Migration** - Создаёт таблицу и её типы;
5. **Model** - Используется для обращения к DB, т.к содержит в себе название таблицы;
6. **Seeder** - Создаёт данные, на основе тех, которые вы передали. Хорошо подходит для одноразовой генерации пользовательских данных или чего-либо ещё, что не будет создаваться факторками;
7. **Factory**: - Создаёт рандомные данные, которые не пересекаются между собой по ID, хотя некоторые данные могут пересекаться, например: Картинки, Дата создания и обновления, ID связки с другими таблицами и т.п, что не обязано быть уникальным.
#### `ris:RecordCircle` Подсистемные:  
1. **Migrations** - Содержит в себе все ваши модули миграции;
2. **Models** - Содержит в себе все ваши модули моделей;
3. **Seeders** - Содержит в себе все ваши модули сидеров;
4. **Factories** - Содержит в себе все ваши модули факторов.

---